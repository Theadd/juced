<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>JUCE Interface Designer</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Juced</h1>
        <h2>JUCE Interface Designer</h2>
        <a href="https://github.com/Theadd/juced" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>Welcome to JUCE Interface Designer Page.</h3>

<p>This rapid application development tool is designed to draw a graphical user interface using JUCE library within a few mouse clicks.</p>
          <h3>Features</h3>
          <ul>
            <li>Easy to use (Click and draw style)</li>
            <li>Undo/redo support</li>
            <li>Extensive editable component properties</li>
            <li>Export/Import project design</li>
            <li>C++ automatic code generation on save</li>
            <li>Custom LookAndFeel (As a component property)</li>
            <li>Multi-platform support! (Tested on Ubuntu 13.04 and Windows 7)</li>
          </ul>
          <p>Use save function often since crashes may occur.</p>
<img src="http://37.187.9.5/public/captura.png">

          <h3>How to add a new component to the editor.</h3>
          <p>To add a new component you need to create a juced_COMPONENT.h/cpp into Modules folder using Introjucer (open juced.jucer) and copy there the content of juced_Label.h/cpp to get started. Edit code to fit your new component needs.</p>

		  <p>It must inherit from the component you want to add into the editor and the DynamicObject component to be able to use it within the editor.</p>

          <p>While editing your new .cpp file, your IDE will probably tell you that Modules::YourComponent does not exists, let's create it.</p>
          
          <p>Open Designer/globals.h and add your component name into Modules namespace.</p>
          <p>Now open Designer/PlaceableComponent.h and Designer/BigTree.h and include your .h file there just like we did with Label.</p>
          <pre><code>#include "../Modules/juced_Label.h"</code></pre>
          
          <p>Open Designer/PlaceableComponent.cpp and allow it to instance objects of your class.</p>
          Look for this code:
          <pre><code>DynamicObject* PlaceableComponent::createObjectFromToolName (String *selectedToolName)
{
    if (selectedToolName->equalsIgnoreCase("juced_Label")) {
        juced_Label *object = new juced_Label();
        return (DynamicObject *)object;
    } else if ...
        
    ... return nullptr;
}</code></pre>
          
        <p>It's easy, just copy this lines at the end of the if block and replace COMPONENT for your component's name.</p>
          <pre><code>... else if (selectedToolName->equalsIgnoreCase("juced_COMPONENT")) {
        juced_COMPONENT *object = new juced_COMPONENT();
        return (DynamicObject *)object;
    }</code></pre>
          
          <p>Well, you have added a component to the editor, but it does not even appear into the toolbox. If you are not using the editor as an standalone component you have to edit the MainComponent.cpp file as follows, otherwise, you should already know how to do it as you did it when you added the toolbox into your editor.</p>
          
          <p>Just add a line like we did with Label somewhere into the MainComponent constructor.</p>
          <pre><code>juced->addToolboxItem(toolbox, "juced_Label", "Text label", BinaryData::label_png, BinaryData::label_pngSize);</code></pre>
          <p>The BinaryData tool image should be added opening the juced.jucer with Introjucer and add an image into the BinaryData projects folder as with any other JUCE project.</p>
          
          <p>Thats all about adding a component although it won't look very well if you can't even use it. You need to add properties and its behaviour when edited.</p>
          
<h3>How to add a property to an existing component.</h3>

          <p>We'll be adding the property "name" into your component in this how-to. First of all, let's have a look at attributes.xml</p>
          <pre><code>&lt;Attribute name="name" group="General" visible="1" type="text" display="Name" valueType="text" syntax='setName("%name%")'/>
... a lot of them.</code></pre>
          <p>So, you can see here that the property name (which your component will probably have) is already defined in the xml file. If you need some property that is not there, just add it. By the way, if you want to specify a non-existent group you will have to deal with it at Designer/PropertyGroup.cpp which is not covered in this how-to.</p>
          <p>You have to add the corresponding addProperty() line into the juced_COMPONENT.cpp to tell the editor that this component has "name" property.</p>
          <pre><code>setName("label");  //This sets the component's name
setProperty(Attributes::name, getName());  //This tells the editor that this component has a property named "name".</code></pre>
          <p>Now look for the following line into Designer/BigTree.cpp</p>
          <pre><code>//[CUSTOM MODULES HERE]</code></pre>
          <p>And add below, the code to handle the property changes of your component</p>
          <pre><code>else if (this->getProperty(Attributes::objectType) == Modules::COMPONENT) {
  juced_COMPONENT *cObject = (juced_COMPONENT *)this->getProperty(Attributes::object).getDynamicObject();
  if (property == Attributes::name) {
    cObject->setName(getProperty(property).toString());
  } else {
    //This is set for the common component properties, just like name and its bounds.
    //You can remove the handling of name property we just added just because
    //it will be handled anyway some lines below.
    propertyChanged = false;
  }
}</code></pre>
          <p>Also, you have to make sure your property is listed in Designer/Globals.h within the namespace "Attributes". That's all!</p>
        </section>

        <aside id="sidebar">
		  <a style="background: url(&quot;images/browse-button.png&quot;) no-repeat scroll 0px 0px transparent; padding-left: 20px; width: 182px;" class="button" href="docs/html/index.html">
            <small>Browse</small>
            Documentation
          </a>
          <a href="https://github.com/Theadd/juced/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/Theadd/juced/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>
		  <a class="button" href="http://37.187.9.5/public/juced_binaries.zip">
            <small>Download (Win32)</small>
            Binaries
          </a>
		  
          <p style="text-align: center; font-size: 0.8em; padding: 0px 10px; opacity: 0.5;">This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
